<div class="col-md-12">
    <h2 (click)="expandChild()" style="cursor: pointer;">Visitor Form <span *ngIf="!showChild">+</span><span *ngIf="showChild">-</span></h2>
</div>
<hr>

<div @fade *ngIf="showChild" class="col-md-12">
    <div class="form-horizontal signIn">
        <form [formGroup]="visitorFormValidate">
            <div class="form-group row">
                <div class="col-sm-6">
                    Name:
                    <div class="input-group">

                        <input formControlName="name" class="form-control" type="text">
                    </div>
                    <span class="text-danger" *ngIf="visitorFormValidate.controls['name'].dirty && visitorFormValidate.hasError('required', 'name')">
                        <i class="fa fa-info-circle"></i> Name is Required.
                    </span>
                </div>
                <div class="col-sm-6">
                    Email:
                    <div class="input-group">

                        <input formControlName="email" class="form-control" type="text">

                    </div>
                    <span class="text-danger" *ngIf="visitorFormValidate.controls['email'].dirty && visitorFormValidate.hasError('required', 'email')">
                        <i class="fa fa-info-circle"></i> Email is Required.
                    </span>
                    <span class="text-danger" *ngIf="visitorFormValidate.controls['email'].dirty && visitorFormValidate.hasError('email', 'email')">
                        <i class="fa fa-info-circle"></i> Email is not proper.
                    </span>
                </div>
            </div>
            <div class="form-group row">
                <div class="col-sm-6">
                    Type of visit:
                    <div class="input-group">

                        <select formControlName="visitType" class="form-control">
                         <option value="">Select Visit</option>
                         <option value="Meeting">Meeting</option>
                         <option value="Delivery">Delivery</option>
                         <option value="Personal">Personal</option>
                        </select>

                    </div>
                    <span class="text-danger" *ngIf="visitorFormValidate.controls['visitType'].dirty && visitorFormValidate.hasError('required', 'visitType')">
                        <i class="fa fa-info-circle"></i> Visit Type is Required.
                    </span>
                </div>
                <div class="col-sm-6">
                    Person to visit:
                    <div class="input-group">

                        <input formControlName="personToVisit" class="form-control" type="text">
                    </div>
                    <span class="text-danger" *ngIf="visitorFormValidate.controls['personToVisit'].dirty && visitorFormValidate.hasError('required', 'personToVisit')">
                        <i class="fa fa-info-circle"></i> Person To Visit is Required.
                    </span>
                </div>
            </div>
            <div class="form-group row">
                <div class="col-sm-6">
                    Date of entry:
                    <div class="input-group">
                        <input formControlName="dateOfEntry" class="form-control" type="date">
                    </div>
                </div>
                <div class="col-sm-6">
                    Time of entry:
                    <div class="input-group">

                        <input formControlName="timeOfEntry" class="form-control" type="text">
                    </div>
                    <span class="text-danger" *ngIf="visitorFormValidate.controls['timeOfEntry'].dirty && visitorFormValidate.hasError('required', 'timeOfEntry')">
                        <i class="fa fa-info-circle"></i> Time of entry is Required.
                    </span>
                </div>
            </div>
            <div class="form-group row">
                <div class="col-sm-6">
                    Time of exit:
                    <div class="input-group">

                        <input formControlName="timeOfExit" class="form-control" type="text">
                    </div>
                    <span class="text-danger" *ngIf="visitorFormValidate.controls['timeOfExit'].dirty && visitorFormValidate.hasError('required', 'timeOfExit')">
                        <i class="fa fa-info-circle"></i> Time of exit:
                    </span>
                </div>

            </div>
        </form>
        <div class="form-group row">
            <div *ngIf="!isEdit" class="col-sm-6">
                <button class="btn btn-primary" type="button" (click)="Submit()">Submit</button>
            </div>
            <div *ngIf="isEdit" class="col-sm-6">
                <button class="btn btn-primary" type="button" (click)="Update()">Update</button>
            </div>
            <div class="col-sm-6">
                <button type="button" class="btn btn-danger" (click)="Reset()">Reset</button>
            </div>
        </div>
    </div>
</div>
<div class="col-md-12">
    <div class="table-responsive">
        <table class="table table-striped">
            <thead>
                <th>ID</th>
                <th>Name</th>
                <th>Email</th>
                <th>Visit Type</th>
                <th>Person to visit</th>
                <th>Date of entry</th>
                <th>Time of entry</th>
                <th>Time of exit</th>
                <th>Action</th>
            </thead>
            <tbody>
                <tr *ngFor="let row of visitorList;let i = index">
                    <td>{{i+1}}</td>
                    <td>{{row.name}}</td>
                    <td>{{row.email}}</td>
                    <td>{{row.visitType}}</td>
                    <td>{{row.personToVisit}}</td>
                    <td>{{row.dateOfEntry | date:'dd-MM-yyyy'}}</td>
                    <td>{{row.timeOfEntry}}</td>
                    <td>{{row.timeOfExit}}</td>
                    <td>
                        <button type="button" class="btn btn-primary" (click)="Edit(row)">Edit</button>&nbsp;
                        <button type="button" class="btn btn-danger" (click)="Delete(row)">Delete</button>
                    </td>
                </tr>
                <tr *ngIf="visitorList.length == 0">
                    <td style="text-align: center;" colspan="8"> No Record Found.</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>